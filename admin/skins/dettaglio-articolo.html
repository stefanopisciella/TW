<h3 id="cima">Dettaglio</h3>

<form method="POST" action="" style="margin-left: 10%; margin-right: 10%; margin-bottom: 4%; margin-top: 4%;">
    <div class="col-md-6 col-12">
        <div class="form-group">
            <label for="last-name-column" id="categoria-label">Categoria</label>
            <input type="text" name="categoria" class="form-select" id="categoria-disabled" value="<[categoria]>">
            <select name="categoria" class="form-select" id="categoria-enabled" aria-placeholder="<[categoria]>">
                <[opzioni_razza]>
            </select>
        </div>
    </div>
    <div class="row">
        <div>
            <div class="card-body">
                <div class="form-group mb-3">
                    <label for="titolo" class="form-label">Titolo</label>
                    <textarea class="form-control" id="titolo" rows="1" name="titolo"><[titolo]></textarea>
                </div>
            </div>
        </div>
    </div>
    <label class="form-label">Articolo</label>
    <textarea class="form-control" id="articolo-disabled" rows="8" name="articolo"><[contenuto]></textarea>
    
    <section class="section" id="articolo-enabled">
        <div class="row">
            <div class="col-12">
                <div class="card-body">
                    <div id="editor">
                        <textarea class="form-control" rows="8" name="articolo2"><[contenuto]></textarea>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <div class="row">
        <div class="col">
            <div class="card-body">
                <div class="form-group mb-3" style="margin-top: 2%;">
                    <label for="titolo" class="form-label">Tags</label>
                    <textarea class="form-control" id="tags" rows="1" name="tags"><[tags]></textarea>
                </div>
            </div>
        </div>
    </div>

    <div class="col-xl-12" id="immagine-articolo" style="margin-left: 20%; margin-top: 5%; margin-bottom: 5%; width: 60%;">
        <img class="card-img-top img-fluid" src="<[img]>" alt="immagine articolo"
                            style="height: 20rem; margin-bottom: 2%;" />
        <input type="file" name="image[]" class="form-control" id="inputGroupFile04" accept="image/png, image/jpeg"  aria-describedby="inputGroupFileAddon04" aria-label="Upload">
    </div>

    <a class="btn btn-primary me-1 mb-1" id="modifica">Modifica</a>
    <a class="btn btn-danger me-1 mb-1" id="elimina">Elimina</a>
    <button type="submit" method="POST" class="btn btn-primary me-1 mb-1" id="salva">Salva</button>
</form>

<label>
    <[articolo_error]>
</label>

<script src="js/vendor/jquery-3.6.0.min.js"></script>
<script src="https://cdn.ckeditor.com/ckeditor5/34.2.0/classic/ckeditor.js"></script>

<script>
    ClassicEditor
    .create(document.querySelector('#editor'))
    .catch(error => {
        console.error(error);
    });
</script>

<script>
    $(document).ready(function(){
        $(".ck.ck-button.ck-off.ck-button_with-text.ck-dropdown__button").hide();
        $(".ck.ck-button.ck-off.ck-dropdown__button").hide();
        $(".ck.ck-toolbar__separator").hide();
        for(i=11; i<13; i++){
            $(".ck.ck-toolbar__items :nth-child("+i+")").hide()
        }
        $("#categoria-disabled").prop("readonly", true);
        $("#categoria-enabled").hide();
        $("#titolo").prop("readonly", true);
        $("#tags").prop("readonly", true);
        $("#inputGroupFile04").hide();
        $("#articolo").prop("readonly", true);
        $("#articolo-enabled").hide();
        $("#articolo-disabled").prop("readonly", true);
        $("#salva").hide();
    })

    $("#modifica").on("click", function(){
        $("#modifica").hide();
        $("#elimina").hide();
        $("#salva").show();
        $("#categoria-disabled").hide();
        $("#categoria-enabled").hide();
        $("#categoria-label").hide();
        $("#titolo").prop("readonly", false);
        $("#tags").prop("readonly", false);
        $("#inputGroupFile04").show();
        $("#articolo-enabled").show();
        $("#articolo-disabled").hide();
        $("#immagine-articolo").hide();
        
        window.location.href = "#&mod=1";
    })

</script>
